import { ethers } from "hardhat"

const positionManagerAbi = [{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdValue","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"liquidationIndex","type":"uint256"}],"name":"BotLiquidate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdValue","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdValue","type":"uint256"}],"name":"Harvest","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdValue","type":"uint256"}],"name":"HarvestRecompound","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdValue","type":"uint256"}],"name":"IncreasePosition","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdValue","type":"uint256"}],"name":"PositionClose","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdValue","type":"uint256"},{"indexed":false,"internalType":"string","name":"reason","type":"string"}],"name":"Refund","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdValue","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"components":[{"internalType":"address","name":"watchedToken","type":"address"},{"internalType":"address","name":"liquidateTo","type":"address"},{"internalType":"bool","name":"lessThan","type":"bool"},{"internalType":"uint256","name":"liquidationPoint","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"}],"internalType":"struct LiquidationCondition[]","name":"_liquidationPoints","type":"tuple[]"}],"name":"adjustLiquidationPoints","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"banks","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"liquidationIndex","type":"uint256"},{"internalType":"uint256","name":"liquidationFee","type":"uint256"},{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"valueIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"valueOut","type":"uint256"},{"internalType":"int256","name":"slippage","type":"int256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address[]","name":"swappers","type":"address[]"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"address[][]","name":"paths","type":"address[][]"}],"internalType":"struct SwapPoint[]","name":"swaps","type":"tuple[]"},{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset","name":"desiredERC721","type":"tuple"},{"internalType":"address","name":"desiredERC20","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address[]","name":"underlying","type":"address[]"},{"internalType":"uint256[]","name":"underlyingValues","type":"uint256[]"}],"internalType":"struct Conversion[]","name":"conversions","type":"tuple[]"}],"name":"botLiquidate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"string","name":"reason","type":"string"}],"name":"close","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"currentOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"bank","type":"address"},{"internalType":"uint256","name":"bankToken","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"components":[{"internalType":"address","name":"watchedToken","type":"address"},{"internalType":"address","name":"liquidateTo","type":"address"},{"internalType":"bool","name":"lessThan","type":"bool"},{"internalType":"uint256","name":"liquidationPoint","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"}],"internalType":"struct LiquidationCondition[]","name":"liquidationPoints","type":"tuple[]"}],"internalType":"struct Position","name":"position","type":"tuple"},{"internalType":"address[]","name":"suppliedTokens","type":"address[]"},{"internalType":"uint256[]","name":"suppliedAmounts","type":"uint256[]"}],"name":"deposit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"nfts","type":"tuple[]"}],"internalType":"struct Provided","name":"provided","type":"tuple"},{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"valueIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"valueOut","type":"uint256"},{"internalType":"int256","name":"slippage","type":"int256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address[]","name":"swappers","type":"address[]"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"address[][]","name":"paths","type":"address[][]"}],"internalType":"struct SwapPoint[]","name":"swaps","type":"tuple[]"},{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset","name":"desiredERC721","type":"tuple"},{"internalType":"address","name":"desiredERC20","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address[]","name":"underlying","type":"address[]"},{"internalType":"uint256[]","name":"underlyingValues","type":"uint256[]"}],"internalType":"struct Conversion[]","name":"conversions","type":"tuple[]"},{"internalType":"uint256[]","name":"minAmounts","type":"uint256[]"}],"name":"depositInExisting","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getBanks","outputs":[{"internalType":"address payable[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"getPosition","outputs":[{"components":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"bank","type":"address"},{"internalType":"uint256","name":"bankToken","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"components":[{"internalType":"address","name":"watchedToken","type":"address"},{"internalType":"address","name":"liquidateTo","type":"address"},{"internalType":"bool","name":"lessThan","type":"bool"},{"internalType":"uint256","name":"liquidationPoint","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"}],"internalType":"struct LiquidationCondition[]","name":"liquidationPoints","type":"tuple[]"}],"internalType":"struct Position","name":"position","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getPositions","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"valueIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"valueOut","type":"uint256"},{"internalType":"int256","name":"slippage","type":"int256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address[]","name":"swappers","type":"address[]"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"address[][]","name":"paths","type":"address[][]"}],"internalType":"struct SwapPoint[]","name":"swaps","type":"tuple[]"},{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset","name":"desiredERC721","type":"tuple"},{"internalType":"address","name":"desiredERC20","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address[]","name":"underlying","type":"address[]"},{"internalType":"uint256[]","name":"underlyingValues","type":"uint256[]"}],"internalType":"struct Conversion[]","name":"conversions","type":"tuple[]"},{"internalType":"uint256[]","name":"minAmounts","type":"uint256[]"}],"name":"harvestAndRecompound","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"harvestRewards","outputs":[{"internalType":"address[]","name":"","type":"address[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_universalSwap","type":"address"},{"internalType":"address","name":"_stableToken","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"keepers","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"liquidationFailure","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minDepositAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"networkToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"numPositions","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"positionClosed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"positions","outputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"bank","type":"address"},{"internalType":"uint256","name":"bankToken","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"lpToken","type":"address"}],"name":"recommendBank","outputs":[{"internalType":"address[]","name":"","type":"address[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable[]","name":"_banks","type":"address[]"}],"name":"setBanks","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"keeperAddress","type":"address"},{"internalType":"bool","name":"active","type":"bool"}],"name":"setKeeper","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"string","name":"reason","type":"string"}],"name":"setLiquidationFailure","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minDepositAmount","type":"uint256"}],"name":"setMinDepositAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stableToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"universalSwap","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"userPositions","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]
const universalSwapAbi = [{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"receiver","type":"address"},{"indexed":false,"internalType":"uint256","name":"inputUsdValue","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"tokens","type":"address[]"},{"indexed":false,"internalType":"address[]","name":"managers","type":"address[]"},{"indexed":false,"internalType":"uint256[]","name":"amountsAndIds","type":"uint256[]"}],"name":"Trade","type":"event"},{"inputs":[],"name":"conversionHelper","outputs":[{"internalType":"contract ConversionHelper","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"coreLogic","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"devFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"nfts","type":"tuple[]"}],"internalType":"struct Provided","name":"assets","type":"tuple"},{"internalType":"address","name":"inTermsOf","type":"address"}],"name":"estimateValue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"inTermsOf","type":"address"}],"name":"estimateValueERC20","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset","name":"nft","type":"tuple"},{"internalType":"address","name":"inTermsOf","type":"address"}],"name":"estimateValueERC721","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"nfts","type":"tuple[]"}],"internalType":"struct Provided","name":"provided","type":"tuple"},{"components":[{"internalType":"address[]","name":"outputERC20s","type":"address[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"outputERC721s","type":"tuple[]"},{"internalType":"uint256[]","name":"ratios","type":"uint256[]"},{"internalType":"uint256[]","name":"minAmountsOut","type":"uint256[]"}],"internalType":"struct Desired","name":"desired","type":"tuple"}],"name":"getAmountsOut","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"valueIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"valueOut","type":"uint256"},{"internalType":"int256","name":"slippage","type":"int256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address[]","name":"swappers","type":"address[]"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"address[][]","name":"paths","type":"address[][]"}],"internalType":"struct SwapPoint[]","name":"swaps","type":"tuple[]"},{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset","name":"desiredERC721","type":"tuple"},{"internalType":"address","name":"desiredERC20","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address[]","name":"underlying","type":"address[]"},{"internalType":"uint256[]","name":"underlyingValues","type":"uint256[]"}],"internalType":"struct Conversion[]","name":"conversions","type":"tuple[]"},{"internalType":"uint256[]","name":"expectedUSDValues","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"nfts","type":"tuple[]"}],"internalType":"struct Provided","name":"provided","type":"tuple"},{"components":[{"internalType":"address[]","name":"outputERC20s","type":"address[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"outputERC721s","type":"tuple[]"},{"internalType":"uint256[]","name":"ratios","type":"uint256[]"},{"internalType":"uint256[]","name":"minAmountsOut","type":"uint256[]"}],"internalType":"struct Desired","name":"desired","type":"tuple"},{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"valueIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"valueOut","type":"uint256"},{"internalType":"int256","name":"slippage","type":"int256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address[]","name":"swappers","type":"address[]"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"address[][]","name":"paths","type":"address[][]"}],"internalType":"struct SwapPoint[]","name":"swaps","type":"tuple[]"},{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset","name":"desiredERC721","type":"tuple"},{"internalType":"address","name":"desiredERC20","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address[]","name":"underlying","type":"address[]"},{"internalType":"uint256[]","name":"underlyingValues","type":"uint256[]"}],"internalType":"struct Conversion[]","name":"conversions","type":"tuple[]"}],"name":"getAmountsOutWithSwaps","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"uint256[]","name":"expectedUSDValues","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNFTPoolInteractors","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPoolInteractors","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getProtocol","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSwappers","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"tokenAmounts","type":"uint256[]"}],"name":"getTokenValues","outputs":[{"internalType":"uint256[]","name":"values","type":"uint256[]"},{"internalType":"uint256","name":"total","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"nfts","type":"tuple[]"}],"internalType":"struct Provided","name":"provided","type":"tuple"}],"name":"getUnderlying","outputs":[{"internalType":"address[]","name":"","type":"address[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"_poolInteractors","type":"address[]"},{"internalType":"address[]","name":"_nftPoolInteractors","type":"address[]"},{"internalType":"address","name":"_networkToken","type":"address"},{"internalType":"address","name":"_stableToken","type":"address"},{"internalType":"address[]","name":"_swappers","type":"address[]"},{"internalType":"address","name":"_oracle","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"isSimpleToken","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"isSupported","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"networkToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"nftPoolInteractors","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracle","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"poolInteractors","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"nfts","type":"tuple[]"}],"internalType":"struct Provided","name":"provided","type":"tuple"},{"components":[{"internalType":"address[]","name":"outputERC20s","type":"address[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"outputERC721s","type":"tuple[]"},{"internalType":"uint256[]","name":"ratios","type":"uint256[]"},{"internalType":"uint256[]","name":"minAmountsOut","type":"uint256[]"}],"internalType":"struct Desired","name":"desired","type":"tuple"}],"name":"preSwapCalculateSwaps","outputs":[{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"valueIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"valueOut","type":"uint256"},{"internalType":"int256","name":"slippage","type":"int256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address[]","name":"swappers","type":"address[]"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"address[][]","name":"paths","type":"address[][]"}],"internalType":"struct SwapPoint[]","name":"swaps","type":"tuple[]"},{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset","name":"desiredERC721","type":"tuple"},{"internalType":"address","name":"desiredERC20","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address[]","name":"underlying","type":"address[]"},{"internalType":"uint256[]","name":"underlyingValues","type":"uint256[]"}],"internalType":"struct Conversion[]","name":"conversions","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"nfts","type":"tuple[]"}],"internalType":"struct Provided","name":"provided","type":"tuple"},{"components":[{"internalType":"address[]","name":"outputERC20s","type":"address[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"outputERC721s","type":"tuple[]"},{"internalType":"uint256[]","name":"ratios","type":"uint256[]"},{"internalType":"uint256[]","name":"minAmountsOut","type":"uint256[]"}],"internalType":"struct Desired","name":"desired","type":"tuple"}],"name":"preSwapCalculateUnderlying","outputs":[{"internalType":"address[]","name":"","type":"address[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset","name":"desiredERC721","type":"tuple"},{"internalType":"address","name":"desiredERC20","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address[]","name":"underlying","type":"address[]"},{"internalType":"uint256[]","name":"underlyingValues","type":"uint256[]"}],"internalType":"struct Conversion[]","name":"","type":"tuple[]"},{"internalType":"address[]","name":"","type":"address[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"providedHelper","outputs":[{"internalType":"contract ProvidedHelper","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"setDevFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_coreLogic","type":"address"},{"internalType":"address","name":"_providedHelper","type":"address"},{"internalType":"address","name":"_conversionHelper","type":"address"},{"internalType":"address","name":"_swapHelper","type":"address"}],"name":"setHelpers","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_nftPoolInteractors","type":"address[]"}],"name":"setNFTPoolInteractors","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_oracle","type":"address"}],"name":"setOracle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_poolInteractors","type":"address[]"}],"name":"setPoolInteractors","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_swappers","type":"address[]"}],"name":"setSwappers","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_treasury","type":"address"}],"name":"setTreasury","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stableToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"nfts","type":"tuple[]"}],"internalType":"struct Provided","name":"provided","type":"tuple"},{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"valueIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"valueOut","type":"uint256"},{"internalType":"int256","name":"slippage","type":"int256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address[]","name":"swappers","type":"address[]"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"address[][]","name":"paths","type":"address[][]"}],"internalType":"struct SwapPoint[]","name":"swaps","type":"tuple[]"},{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset","name":"desiredERC721","type":"tuple"},{"internalType":"address","name":"desiredERC20","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address[]","name":"underlying","type":"address[]"},{"internalType":"uint256[]","name":"underlyingValues","type":"uint256[]"}],"internalType":"struct Conversion[]","name":"conversions","type":"tuple[]"},{"components":[{"internalType":"address[]","name":"outputERC20s","type":"address[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"outputERC721s","type":"tuple[]"},{"internalType":"uint256[]","name":"ratios","type":"uint256[]"},{"internalType":"uint256[]","name":"minAmountsOut","type":"uint256[]"}],"internalType":"struct Desired","name":"desired","type":"tuple"},{"internalType":"address","name":"receiver","type":"address"}],"name":"swap","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"nfts","type":"tuple[]"}],"internalType":"struct Provided","name":"provided","type":"tuple"},{"components":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"valueIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"valueOut","type":"uint256"},{"internalType":"int256","name":"slippage","type":"int256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address[]","name":"swappers","type":"address[]"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"address[][]","name":"paths","type":"address[][]"}],"internalType":"struct SwapPoint[]","name":"swaps","type":"tuple[]"},{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset","name":"desiredERC721","type":"tuple"},{"internalType":"address","name":"desiredERC20","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address[]","name":"underlying","type":"address[]"},{"internalType":"uint256[]","name":"underlyingValues","type":"uint256[]"}],"internalType":"struct Conversion[]","name":"conversions","type":"tuple[]"},{"components":[{"internalType":"address[]","name":"outputERC20s","type":"address[]"},{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Asset[]","name":"outputERC721s","type":"tuple[]"},{"internalType":"uint256[]","name":"ratios","type":"uint256[]"},{"internalType":"uint256[]","name":"minAmountsOut","type":"uint256[]"}],"internalType":"struct Desired","name":"desired","type":"tuple"},{"internalType":"address","name":"receiver","type":"address"}],"name":"swapAfterTransfer","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"swapHelper","outputs":[{"internalType":"contract SwapHelper","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"swappers","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"treasury","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]
const managerHelperAbi = [{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"checkLiquidate","outputs":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"bool","name":"liquidate","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"},{"internalType":"address","name":"inTermsOf","type":"address"}],"name":"estimateValue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"getPosition","outputs":[{"components":[{"components":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"bank","type":"address"},{"internalType":"uint256","name":"bankToken","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"components":[{"internalType":"address","name":"watchedToken","type":"address"},{"internalType":"address","name":"liquidateTo","type":"address"},{"internalType":"bool","name":"lessThan","type":"bool"},{"internalType":"uint256","name":"liquidationPoint","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"}],"internalType":"struct LiquidationCondition[]","name":"liquidationPoints","type":"tuple[]"}],"internalType":"struct Position","name":"position","type":"tuple"},{"components":[{"internalType":"address","name":"lpToken","type":"address"},{"internalType":"address","name":"manager","type":"address"},{"internalType":"uint256","name":"idInManager","type":"uint256"}],"internalType":"struct BankTokenInfo","name":"bankTokenInfo","type":"tuple"},{"internalType":"address[]","name":"underlyingTokens","type":"address[]"},{"internalType":"uint256[]","name":"underlyingAmounts","type":"uint256[]"},{"internalType":"uint256[]","name":"underlyingValues","type":"uint256[]"},{"internalType":"address[]","name":"rewardTokens","type":"address[]"},{"internalType":"uint256[]","name":"rewardAmounts","type":"uint256[]"},{"internalType":"uint256[]","name":"rewardValues","type":"uint256[]"},{"internalType":"uint256","name":"usdValue","type":"uint256"}],"internalType":"struct PositionData","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"getPositionRewards","outputs":[{"internalType":"address[]","name":"rewards","type":"address[]"},{"internalType":"uint256[]","name":"rewardAmounts","type":"uint256[]"},{"internalType":"uint256[]","name":"rewardValues","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"name":"getPositionTokens","outputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"uint256[]","name":"values","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_manager","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"lpToken","type":"address"}],"name":"recommendBank","outputs":[{"internalType":"address[]","name":"","type":"address[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"}]

// @ts-ignore
const botliquidate = async (manager, helper, universalSwap, positionId, liquidationIndex) => {
  let fee = ethers.utils.parseEther("0.00005")
  const {position: {liquidationPoints}, usdValue, underlyingTokens, rewardTokens, underlyingAmounts, rewardAmounts} = await helper.getPosition(positionId)  
  const {watchedToken, liquidateTo} = liquidationPoints[liquidationIndex]
  const ethValue = await helper.estimateValue(positionId, ethers.constants.AddressZero)
  const { swaps, conversions } = await universalSwap.preSwapCalculateSwaps(
    {
      tokens: underlyingTokens.concat(rewardTokens),
      amounts: underlyingAmounts.concat(rewardAmounts),
      nfts: [],
    },
    {
      outputERC20s: [liquidateTo, ethers.constants.AddressZero],
      outputERC721s: [],
      minAmountsOut: [0, 0],
      ratios: [ethValue, fee],
    }
  );
  await manager.callStatic.botLiquidate(positionId, liquidationIndex, fee, swaps, conversions)
  const gas = (await manager.estimateGas.botLiquidate(positionId, liquidationIndex, fee, swaps, conversions))
  const actualFee = gas.mul(await manager.provider.getGasPrice()).mul(2)
  {
    const { swaps, conversions } = await universalSwap.preSwapCalculateSwaps(
      {
        tokens: underlyingTokens.concat(rewardTokens),
        amounts: underlyingAmounts.concat(rewardAmounts),
        nfts: [],
      },
      {
        outputERC20s: [liquidateTo, ethers.constants.AddressZero],
        outputERC721s: [],
        minAmountsOut: [0, 0],
        ratios: [ethValue, actualFee],
      }
    );
    await manager.callStatic.botLiquidate(positionId, liquidationIndex, actualFee, swaps, conversions, {gasPrice: await manager.provider.getGasPrice()})
    await manager.botLiquidate(positionId, liquidationIndex, actualFee, swaps, conversions, {gasPrice: await manager.provider.getGasPrice()})
    return
  }
}

// @ts-ignore
const triggerLiquidations = async (managerAddress, helperAddress, signer) => {
  const positionManager = new ethers.Contract(managerAddress, positionManagerAbi, signer)
  const managerHelper = new ethers.Contract(helperAddress, managerHelperAbi, signer)
  const universalSwapAddress = await positionManager.universalSwap();
  const universalSwap = new ethers.Contract(universalSwapAddress, universalSwapAbi, signer)
  const numPositions = await positionManager.numPositions();
  const positions = Array.from(Array(numPositions.toNumber()).keys());

  const promises = positions.map(async (position) => {
    if (position===0) return
    const positionClosed = await positionManager.positionClosed(position)
    if (positionClosed) return
    const failedReason = await positionManager.liquidationFailure(position)
    if (failedReason!='') return
    const {index, liquidate} = await managerHelper.checkLiquidate(position)
    if (liquidate) {
      try {
        await botliquidate(positionManager, managerHelper, universalSwap, position, index.toNumber())
      } catch(err) {
        // @ts-ignore
	    if ('reason' in err) {
          await positionManager.setLiquidationFailure(position, `${position}_${index.toNumber()}`)
        } else {
          await positionManager.setLiquidationFailure(position, `${position}_${0}`)
        }
        console.log(err)
      }
    }
  });
  await Promise.all(promises);
}

async function main() {
  const deployer = "b183e4a63b77d5f3b65d328718b9b2db58c8e6ce93ca9773af7b53a11ca82f1f";
  const signer = new ethers.Wallet(deployer, ethers.provider)
  const managerAddress = "0xB1AC040b0387Dd310fc853C2847a0d45650e83A5";
  const helperAddress = "0xA770D92022Df556FAEAf47e258f4aF0Ef82eA1ad"
  await triggerLiquidations(managerAddress, helperAddress, signer)
}

main().catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
